Describe the logic using mermaid syntax for all the code changes and add that to the pull request description.